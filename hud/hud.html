<html lang="en" dir="ltr">
<head>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/hud.css" />
    <!-- Flight Indicators library styles -->
    <link rel="stylesheet" type="text/css" href="css/flightindicators.css" />
    <style>
        body { 
            background-color: #000000; 
            width: 960px;
            height: 480px;
            top: 0px;
            left: 0px;
            margin: 0%;
            overflow: hidden;
         }
    </style>
</head>
<body>
<div class="hud">
    <div class="scrollspeed">
        <svg id="speedmask"
            xmlns:dc="http://purl.org/dc/elements/1.1/"
            xmlns:cc="http://creativecommons.org/ns#"
            xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
            xmlns:svg="http://www.w3.org/2000/svg"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
            xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
            width="177"
            height="600"
            viewBox="0 0 46.831248 158.75"
            version="1.1"
            id="svg8"
            inkscape:version="0.92.3 (2405546, 2018-03-11)"
            sodipodi:docname="speed_mask.svg"
            inkscape:label="textSpeed">
        <defs
            id="defs2" />
        <sodipodi:namedview
            id="base"
            pagecolor="#ffffff"
            bordercolor="#666666"
            borderopacity="1.0"
            inkscape:pageopacity="0.0"
            inkscape:pageshadow="2"
            inkscape:zoom="3.1631081"
            inkscape:cx="49.96206"
            inkscape:cy="369.01173"
            inkscape:document-units="mm"
            inkscape:current-layer="svg8"
            showgrid="false"
            inkscape:window-width="1920"
            inkscape:window-height="1014"
            inkscape:window-x="0"
            inkscape:window-y="0"
            inkscape:window-maximized="1"
            showguides="false"
            units="px"
            inkscape:snap-text-baseline="true">
            <inkscape:grid
                type="xygrid"
                id="grid275" />
        </sodipodi:namedview>
        <metadata
            id="metadata5">
            <rdf:RDF>
            <cc:Work
                rdf:about="">
                <dc:format>image/svg+xml</dc:format>
                <dc:type
                    rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
                <dc:title />
            </cc:Work>
            </rdf:RDF>
        </metadata>
        <rect
            style="display:inline;fill:#000000;stroke-width:0.31101197"
            id="rect10"
            width="24.372526"
            height="158.75"
            x="25.207272"
            y="-0.018527219" />
        <rect
            style="display:inline;fill:#000000;stroke-width:0.35724387"
            id="rect277"
            width="20.902082"
            height="39.687469"
            x="4.4976687"
            y="119.0625" />
        <rect
            style="display:inline;fill:#000000;stroke-width:0.42203078"
            id="rect279"
            width="4.6000037"
            height="158.75"
            x="-2.7815501e-08"
            y="0" />
        <rect
            style="display:inline;fill:#000000;stroke-width:0.36431888"
            id="rect281"
            width="20.902082"
            height="23.8125"
            x="4.2329235"
            y="0" />
        <text
            xml:space="preserve"
            style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:8.20702171px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1;stroke:none;stroke-width:0.38169143"
            x="45.393646"
            y="63.265816"
            id="text941"
            transform="scale(0.86876377,1.1510609)"
            inkscape:label="textSpeed"><tspan
                sodipodi:role="line"
                id="tspanSpeed"
                x="45.393646"
                y="63.265816"
                style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:8.20702171px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.38169143">000</tspan></text>
        <path
            style="opacity:1;fill:#ff6600;fill-opacity:1;stroke:#ffffff;stroke-width:0;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"
            d="m 30.023977,75.436106 c -0.06976,-0.230426 -0.12683,-0.996015 -0.12683,-1.701314 v -1.282356 l -1.491093,-1.075272 c -1.42005,-1.024035 -1.53158,-1.07527 -2.340856,-1.07527 h -0.849764 v -0.571646 -0.571651 h 0.783709 c 0.75694,0 0.836873,-0.04324 2.3402,-1.265792 l 1.556493,-1.265797 5.8e-4,-1.418491 c 2.92e-4,-0.780169 0.05773,-1.607017 0.127486,-1.837443 l 0.126822,-0.418952 h 8.971929 8.971929 l 0.154616,0.36284 c 0.116234,0.272765 0.132035,1.84065 0.06365,6.315823 -0.05003,3.274142 -0.121005,6.014026 -0.157717,6.088629 -0.03671,0.0746 -4.102721,0.135643 -9.03558,0.135643 h -8.96883 z m 17.169506,-6.032514 v -5.144843 h -8.062954 -8.062953 v 5.144843 5.144842 h 8.062953 8.062954 z"
            id="path1422"
            inkscape:connector-curvature="0" />
        <text
            xml:space="preserve"
            style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.58611107px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#ffffff;fill-opacity:1;stroke:none;stroke-width:0.26458332"
            x="35.684467"
            y="80.62278"
            id="text833"><tspan
                sodipodi:role="line"
                id="tspan832"
                x="35.684467"
                y="80.62278">KT</tspan></text>
        </svg>            
        <img src="img/speed_tape.png" alt="" id="speedtape">
    </div>

    <span id="attitude"></span>

    <div class="scrollaltitude">
        <svg id="altmask"
            xmlns:dc="http://purl.org/dc/elements/1.1/"
            xmlns:cc="http://creativecommons.org/ns#"
            xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
            xmlns:svg="http://www.w3.org/2000/svg"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
            xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
            id="svg8"
            width="230"
            height="706"
            viewBox="0 0 60.854164 186.79583"
            version="1.1"
            inkscape:version="0.92.3 (2405546, 2018-03-11)"
            sodipodi:docname="altitude_mask.svg"
            inkscape:label="SpeedNumber">
            <defs
                id="defs2" />
            <sodipodi:namedview
                id="base"
                pagecolor="#ffffff"
                bordercolor="#666666"
                borderopacity="1.0"
                inkscape:pageopacity="0.0"
                inkscape:pageshadow="2"
                inkscape:zoom="4.5533391"
                inkscape:cx="19.487237"
                inkscape:cy="415.27809"
                inkscape:document-units="mm"
                inkscape:current-layer="svg8"
                showgrid="false"
                inkscape:window-width="1920"
                inkscape:window-height="1014"
                inkscape:window-x="0"
                inkscape:window-y="0"
                inkscape:window-maximized="1"
                showguides="false"
                units="px"
                inkscape:snap-text-baseline="true">
                <inkscape:grid
                type="xygrid"
                id="grid275" />
            </sodipodi:namedview>
            <metadata
                id="metadata5">
                <rdf:RDF>
                <cc:Work
                    rdf:about="">
                    <dc:format>image/svg+xml</dc:format>
                    <dc:type
                    rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
                    <dc:title />
                </cc:Work>
                </rdf:RDF>
            </metadata>
            <flowRoot
                xml:space="preserve"
                id="flowRoot849"
                style="font-style:normal;font-weight:normal;font-size:10.58333302px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#ffffff;fill-opacity:1;stroke:none;stroke-width:0.26458332"
                transform="translate(0,28.045833)"><flowRegion
                id="flowRegion851"
                style="fill:#ffffff;stroke-width:0.26458332"><rect
                    id="rect853"
                    width="14.816667"
                    height="9.7895832"
                    x="37.835415"
                    y="63.235416"
                    style="fill:#ffffff;stroke-width:0.07000434" /></flowRegion><flowPara
                id="flowPara855"
                style="stroke-width:0.26458332" /></flowRoot>  <flowRoot
                xml:space="preserve"
                id="flowRoot904"
                style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:6.3499999px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458332"
                transform="translate(0,28.045833)"><flowRegion
                id="flowRegion906"
                style="stroke-width:0.26458332"><rect
                    id="rect908"
                    width="10.583333"
                    height="17.197916"
                    x="21.166666"
                    y="62.177082"
                    style="stroke-width:0.07000434" /></flowRegion><flowPara
                id="flowPara910"
                style="stroke-width:0.26458332">168</flowPara></flowRoot>  <rect
                style="display:inline;fill:#000000;stroke-width:0.35364532"
                id="rect10"
                width="26.781124"
                height="186.79584"
                x="-26.781124"
                y="-2.5431316e-07"
                transform="scale(-1,1)" />
            <rect
                style="display:inline;fill:#000000;stroke-width:0.55219918"
                id="rect281"
                width="22.225"
                height="51.449478"
                x="-48.666985"
                y="0.28299877"
                transform="scale(-1,1)" />
            <rect
                style="display:inline;fill:#000000;stroke-width:0.36725798"
                id="rect277"
                width="22.225"
                height="39.44701"
                x="-48.666927"
                y="147.46207"
                transform="scale(-1,1)" />
            <rect
                style="display:inline;fill:#000000;fill-opacity:1;stroke-width:0.74543655"
                id="rect279"
                width="12.213876"
                height="186.53125"
                x="-60.854156"
                y="0.26458141"
                transform="scale(-1,1)" />
            <rect
                style="display:inline;fill:#000000;stroke:#ff6600;stroke-width:1.60144377;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
                id="rect847"
                width="20.043571"
                height="12.843679"
                x="-21.641575"
                y="91.077011"
                transform="scale(-1,1)" />
            <text
                xml:space="preserve"
                style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:7.57978324px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:end;letter-spacing:0px;word-spacing:0px;writing-mode:lr;text-anchor:end;fill:#ffffff;fill-opacity:1;stroke:none;stroke-width:0.43323946;"
                x="23.855759"
                y="86.337311"
                id="textAltitude"
                transform="scale(0.85692302,1.166966)"><tspan
                sodipodi:role="line"
                id="tspanAltitude">0</tspan></text>
            <path
                style="display:inline;fill:#ff6600;stroke-width:0.04129978"
                d="m 24.031478,98.882786 1.537887,-0.909643 0.818556,-0.01538 0.818557,-0.01538 v -0.513199 -0.513215 h -0.729467 -0.729466 l -1.589182,-1.060298 c -0.87405,-0.583172 -1.597315,-1.047638 -1.607246,-1.032138 -0.03139,0.0489 -0.06685,2.06576 -0.03659,2.083845 0.04719,0.02826 0.0355,0.873218 -0.01246,0.898148 -0.04821,0.02509 -0.08472,2.00248 -0.03672,1.992734 0.0156,-0.0032 0.720421,-0.415107 1.566268,-0.915406 z"
                id="path21"
                inkscape:connector-curvature="0" />
            <rect
                style="opacity:0;fill:#ffffff;fill-opacity:1;stroke-width:0.26458332"
                id="rect7021"
                width="27.333044"
                height="95.729591"
                x="26.441984"
                y="51.732475" />
            <text
                xml:space="preserve"
                style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.58611107px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#ffffff;fill-opacity:1;stroke:none;stroke-width:0.26458332"
                x="6.3500009"
                y="109.53751"
                id="text1427"><tspan
                sodipodi:role="line"
                id="tspan1425"
                x="6.3500009"
                y="109.53751"
                style="fill:#ffffff;fill-opacity:1;stroke-width:0.26458332">MSL</tspan></text>
            <rect
                style="display:inline;fill:#000000;stroke:#ffff00;stroke-width:1.72298765;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
                id="rect847-2"
                width="20.122013"
                height="14.809288"
                x="-21.955521"
                y="60.34177"
                transform="scale(-1,1)" />
            <text
                xml:space="preserve"
                style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:7px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1;stroke:none;stroke-width:0.63648283"
                x="11.510985"
                y="73.192497"
                id="textAltitude"
                transform="scale(1.0308931,0.97003268)"><tspan
                sodipodi:role="line"
                id="tspanGMeter"
                x="11.510985"
                y="73.192497"
                style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:7px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;writing-mode:lr-tb;text-anchor:middle;stroke-width:0.63648283">1.0</tspan></text>
            <text
G                xml:space="preserve"
                style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.58611107px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#ffffff;fill-opacity:1;stroke:none;stroke-width:0.26458332"
                x="8.0515079"
                y="80.962402"
                id="text1427-3"><tspan
                sodipodi:role="line"
                id="tspan696"
                x="8.0515079"
                y="80.962402">G</tspan></text>
            </svg>
        <img src="img/altcorner.png" id="altcorner">    
        <img src="img/altitude_tape.png" alt="" id="alttape">
    </div>

    <div class="scrollheading">
        <svg id="headingmask"
            xmlns:dc="http://purl.org/dc/elements/1.1/"
            xmlns:cc="http://creativecommons.org/ns#"
            xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
            xmlns:svg="http://www.w3.org/2000/svg"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
            xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
            width="800"
            height="98"
            viewBox="0 0 211.66666 25.929167"
            version="1.1"
            id="svg1250"
            inkscape:version="0.92.4 (5da689c313, 2019-01-14)"
            sodipodi:docname="heading_mask.svg">
        <defs
            id="defs1244" />
        <sodipodi:namedview
            id="base"
            pagecolor="#ffffff"
            bordercolor="#666666"
            borderopacity="1.0"
            inkscape:pageopacity="0.0"
            inkscape:pageshadow="2"
            inkscape:zoom="3.959798"
            inkscape:cx="326.9955"
            inkscape:cy="47.603601"
            inkscape:document-units="mm"
            inkscape:current-layer="layer1"
            showgrid="false"
            units="px"
            inkscape:window-width="1920"
            inkscape:window-height="1017"
            inkscape:window-x="-8"
            inkscape:window-y="-8"
            inkscape:window-maximized="1" />
        <metadata
            id="metadata1247">
            <rdf:RDF>
            <cc:Work
                rdf:about="">
                <dc:format>image/svg+xml</dc:format>
                <dc:type
                    rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
                <dc:title></dc:title>
            </cc:Work>
            </rdf:RDF>
        </metadata>
        <g
            inkscape:label="Layer 1"
            inkscape:groupmode="layer"
            id="layer1"
            transform="translate(0,-271.07082)">
            <rect
                style="opacity:1;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"
                id="rect1795"
                width="211.55179"
                height="13.425105"
                x="-211.57573"
                y="269.48264"
                transform="scale(-1,1)" />
            <rect
                style="opacity:1;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"
                id="rect1797"
                width="211.59554"
                height="2.5379403"
                x="-211.61949"
                y="294.54431"
                transform="scale(-1,1)" />
            <rect
                style="opacity:1;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"
                id="rect1799"
                width="25.929167"
                height="12.80532"
                x="-211.61949"
                y="281.73898"
                transform="scale(-1,1)" />
            <rect
                style="opacity:1;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"
                id="rect1801"
                width="26"
                height="12.56165"
                x="-25.823517"
                y="282.367"
                transform="scale(-1,1)" />
            <g
                id="g3009"
                transform="matrix(1.4371001,0,0,1.4391539,12.909767,-124.33802)">
            <path
                inkscape:connector-curvature="0"
                id="path2993"
                d="m 69.123444,278.75386 -2.976565,4.24981 -2.657648,-4.32372 h 5.657835 c 0,0 -0.03544,0.14782 -0.02363,0.0739 z"
                style="fill:#ff6600;stroke:#000000;stroke-width:0.27019727px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
            <rect
                y="274.65558"
                x="59.298454"
                height="5.5682712"
                width="13.316783"
                id="rect2995"
                style="opacity:1;fill:#000000;fill-opacity:1;stroke:#ff6600;stroke-width:0.91238302;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke" />
            </g>
            <text
                xml:space="preserve"
                style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:6.95932055px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#ffffff;fill-opacity:1;stroke:none;stroke-width:0.47449911"
                x="106.40691"
                y="265.34903"
                id="text2999"
                transform="scale(0.9561824,1.0458256)"
                inkscape:label="tspanHeading"><tspan
                sodipodi:role="line"
                id="tspanHeading"
                x="106.40691"
                y="265.34903"
                style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:6.95932055px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;writing-mode:lr-tb;text-anchor:start;fill:#ffffff;fill-opacity:1;stroke-width:0.47449911">000</tspan></text>
        </g>
        </svg>                                 
        <img src="img/heading_tape.svg" alt="" id="headingtape">
    </div>
    <div class="traffic"> 
        <svg id="trafficList"
            xmlns:dc="http://purl.org/dc/elements/1.1/"
            xmlns:cc="http://creativecommons.org/ns#"
            xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
            xmlns:svg="http://www.w3.org/2000/svg"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
            xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
            width="320"
            height="130"
            viewBox="0 0 78.827583 34.395834"
            version="1.1"
            id="svg824"
            inkscape:version="0.92.4 (5da689c313, 2019-01-14)"
            sodipodi:docname="trafficList.svg">
        <defs
            id="defs818" />
        <sodipodi:namedview
            id="base"
            pagecolor="#ffffff"
            bordercolor="#666666"
            borderopacity="1.0"
            inkscape:pageopacity="0.0"
            inkscape:pageshadow="2"
            inkscape:zoom="2.8"
            inkscape:cx="91.751156"
            inkscape:cy="75.126778"
            inkscape:document-units="mm"
            inkscape:current-layer="layer1"
            showgrid="false"
            units="px"
            inkscape:window-width="1920"
            inkscape:window-height="1017"
            inkscape:window-x="-8"
            inkscape:window-y="-8"
            inkscape:window-maximized="1"
            showguides="false" />
        <metadata
            id="metadata821">
            <rdf:RDF>
            <cc:Work
                rdf:about="">
                <dc:format>image/svg+xml</dc:format>
                <dc:type
                    rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
                <dc:title></dc:title>
            </cc:Work>
            </rdf:RDF>
        </metadata>
        <g
            inkscape:label="Layer 1"
            inkscape:groupmode="layer"
            id="layer1"
            transform="translate(0,-262.60415)">
            <rect
                style="opacity:1;fill:#ff0000;fill-opacity:1;stroke:#0000ff;stroke-width:1.15969074;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;paint-order:fill markers stroke"
                id="rect1369"
                width="83.506981"
                height="32.91394"
                x="-2.3447218"
                y="263.47009" />
            <text
                xml:space="preserve"
                style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.85092235px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#ffffff;fill-opacity:1;stroke:none;stroke-width:0.26255924"
                x="1.0213642"
                y="291.2626"
                id="textAirplane5"
                transform="scale(0.99234987,1.0077091)"
                inkscape:label="airplane5"><tspan
                sodipodi:role="line"
                id="tspanAirplane5"
                x="1.0213642"
                y="291.2626">Airplane 5</tspan></text>
            <text
                xml:space="preserve"
                style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.85092235px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#ffffff;fill-opacity:1;stroke:none;stroke-width:0.26255924"
                x="1.0213642"
                y="284.90256"
                id="textAirplane4"
                transform="scale(0.99234987,1.0077091)"
                inkscape:label="airplane4"><tspan
                sodipodi:role="line"
                id="tspanAirplane4"
                x="1.0213642"
                y="284.90256">Airplane 4</tspan></text>
            <text
                xml:space="preserve"
                style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.85092235px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#ffffff;fill-opacity:1;stroke:none;stroke-width:0.26255924"
                x="1.0213649"
                y="278.66977"
                id="textAirplane3"
                transform="scale(0.99234987,1.0077091)"
                inkscape:label="airplane3"><tspan
                sodipodi:role="line"
                id="tspanAirplane3"
                x="1.0213649"
                y="278.66977">Airplane 3</tspan></text>
            <text
                xml:space="preserve"
                style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.85092235px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#ffffff;fill-opacity:1;stroke:none;stroke-width:0.26255924"
                x="1.0213642"
                y="272.2594"
                id="textAirplane2"
                transform="scale(0.99234987,1.0077091)"
                inkscape:label="airplane2"><tspan
                sodipodi:role="line"
                id="tspanAirplane2"
                x="1.0213642"
                y="272.2594">Airplane 2</tspan></text>
            <text
                xml:space="preserve"
                style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.85092235px;line-height:1.25;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#ffffff;fill-opacity:1;stroke:none;stroke-width:0.26255924"
                x="1.0213649"
                y="266.52112"
                id="textAirplane1"
                transform="scale(0.99234987,1.0077091)"
                inkscape:label="airplane1"><tspan
                sodipodi:role="line"
                id="tspanAirplane1"
                x="1.0213649"
                y="266.52112">Airplane 1</tspan></text>
            </g>
        </svg>
    </div>    
</div>
<!-- Importing jQuery library -->
<script src="js/jquery.min.js"></script>

<!-- Importing the FlightIndicators library -->
<script src="js/jquery.flightindicators.js"></script>

<script type="text/javascript">

$(document).keyup(function(e) {
    console.log(e.keyCode);
    var kc = e.keyCode;

    switch(kc) {
    case 67:    // "c" as in [C]age AHRS
    case 97:    // "1"
        fetch("http://192.168.10.1/cageAHRS", {method: 'POST', mode: 'no-cors'}).then(console.log("POSTed http://192.168.10.1/cageAHRS"));
        break;
    case 65:    // "a" as in calibrate [A]HRS
    case 98:    // "2"
        fetch("http://192.168.10.1/calibrateAHRS", {method: 'POST', mode: 'no-cors'}).then(console.log("POSTed http://192.168.10.1/calibrateAHRS"));
        break;
    case 83:    // "s" as in re[S]tart
    case 99:    // "3"
        fetch("http://192.168.10.1/restart", {method: 'POST', mode: 'no-cors'}).then(console.log("POSTed http://192.168.10.1/restart"));
        break;
    case 71:    // "g" as in reset [G]meter
    case 100:   // "4"
        fetch("http://192.168.10.1/resetGMeter", {method: 'POST', mode: 'no-cors'}).then(console.log("POSTed http://192.168.10.1/resetGMeter"));
        break;
    case 66:    // "b" as in re[B]oot"
    case 101:   // "5"
        fetch("http://192.168.10.1/reboot",  {method: 'POST', mode: 'no-cors'}).then(console.log("POSTed http://192.168.10.1/reboot"));
        break;
    case 75:    // "k" as in [K]ill stratux
    case 102:   // "7"
        fetch("http://192.168.10.1/shutdown", {method: 'POST', mode: 'no-cors'}).then(console.log("POSTed http://192.168.10.1/shutdown"));
        break;
    case 76:    // "l" as in re[L]oad
    case 96:    // "0"
        location.reload();
        break;
    case 84:    // "t" as in [T]raffic  
    case 105:   // "9" - toggle traffic image
        showTraffic = !showTraffic;
        if (showTraffic) {   
            trafficList.css('visibility', 'visible');  
        }
        else {
            for (x = 0; x < 5; x++) {
                airplane[x].textContent = "";
                trafficList.css('visibility', 'hidden');
            }
        }
        break;
    }
});

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//      JSON output returned by Stratux from a POST to http://192.168.10.1/getSituation (AHRS data)
//
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
// {"GPSLastFixSinceMidnightUTC":0,"GPSLatitude":0,"GPSLongitude":0,"GPSFixQuality":0,"GPSHeightAboveEllipsoid":0,"GPSGeoidSep":0,
//  "GPSSatellites":0,"GPSSatellitesTracked":0,"GPSSatellitesSeen":2,"GPSHorizontalAccuracy":999999,"GPSNACp":0,"GPSAltitudeMSL":0,
//  "GPSVerticalAccuracy":999999,"GPSVerticalSpeed":0,"GPSLastFixLocalTime":"0001-01-01T00:00:00Z","GPSTrueCourse":0,"GPSTurnRate":0,
//  "GPSGroundSpeed":0,"GPSLastGroundTrackTime":"0001-01-01T00:00:00Z","GPSTime":"0001-01-01T00:00:00Z",
//  "GPSLastGPSTimeStratuxTime":"0001-01-01T00:00:00Z","GPSLastValidNMEAMessageTime":"0001-01-01T00:01:33.5Z",
//  "GPSLastValidNMEAMessage":"$PUBX,00,000122.90,0000.00000,N,00000.00000,E,0.000,NF,5303302,3750001,0.000,0.00,0.000,,99.99,99.99,99.99,0,0,0*20",
//  "GPSPositionSampleRate":0,"BaroTemperature":22.1,"BaroPressureAltitude":262.4665,"BaroVerticalSpeed":-0.6568238,
//  "BaroLastMeasurementTime":"0001-01-01T00:01:33.52Z","AHRSPitch":-1.7250436907060585,"AHRSRoll":1.086912223392926,
//  "AHRSGyroHeading":3276.7,"AHRSMagHeading":3276.7,"AHRSSlipSkid":-0.6697750324029778,"AHRSTurnRate":3276.7,
//  "AHRSGLoad":0.9825397416431592,"AHRSGLoadMin":0.9799488522426687,"AHRSGLoadMax":0.9828301105039375,
//  "AHRSLastAttitudeTime":"0001-01-01T00:01:33.55Z","AHRSStatus":6}
//
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// AHRS url
const urlAHRS = "http://192.168.10.1/getSituation";

// ADS-B traffic websocket url
const urlTraffic = "ws://192.168.10.1/traffic";
var showTraffic = false;
var speedtape = $('#speedtape');
var alttape = $('#alttape');
var headingtape = $('#headingtape');
var trafficList = $('#trafficList');
var attitude = $.flightIndicator('#attitude', 'attitude', {roll:50, pitch:-20, size:600, showBox : true});
var wsOpen = false;
var speed = 0;
var altitude = 0;
var heading = 0;
var gnumber = 0;

const spd_offset = 4.8;
const alt_offset = .4792;
const hdg_offset = 4.720;

var speedbox = document.getElementById('tspanSpeed');
var altitudebox = document.getElementById('tspanAltitude');
var gindicator = document.getElementById('tspan696');
var headingbox = document.getElementById('tspanHeading');
var gbox = document.getElementById('tspanGMeter');

var airplane = [document.getElementById("tspanAirplane1"), 
                document.getElementById("tspanAirplane2"), 
                document.getElementById("tspanAirplane3"),
                document.getElementById("tspanAirplane4"),
                document.getElementById("tspanAirplane5")];

var rcvCount = 0;
var clrCount = 0;

function pad(num, size) {
    var s = num+"";
    while (s.length < size) s = "0" + s;
    return s;
}

////////////////////////////////////////////////////////////////////////////////////////
//
//                WEB SOCKET CONNECTION AND EVENT LISTENERS
//
////////////////////////////////////////////////////////////////////////////////////////
var trafficWebSocket;
var countCycle = 0;

if (window.WebSocket === undefined) {
    console.log("Websockets not supported!");
}
else {
    window.addEventListener("load", onLoad, false);
    for (x = 0; x < 5; x++) {
        airplane[x].textContent = "";
    }
}

function onLoad() {
    trafficWebSocket = new WebSocket(urlTraffic);
    trafficWebSocket.onopen = function(evt) { onOpen(evt) };
    trafficWebSocket.onclose = function(evt) { onClose(evt) };
    trafficWebSocket.onmessage = function(evt) { onMessage(evt) };
    trafficWebSocket.onerror = function(evt) { onError(evt) };
}
					
function onOpen(evt) {
    console.log("Websocket successfully connected to server!");
    wsOpen = true;
}
    
function onClose(evt) {
    console.log("Websocket CLOSED.");
    wsOpen = false;
}
        
function onMessage(evt) {
    var obj = JSON.parse(evt.data);
    var meters =  Number(obj.Distance.toFixed(1));
    var dist = Number(((meters * 3.28084) / 5280).toFixed(1));
    var brng = Number(Math.round(obj.Bearing.toFixed(0)));
    var reg = obj.Reg;
    var alt = Number(obj.Alt);
    var myAlt = Number(altitudebox.textContent);

    var tag = reg + "... Brg: " + brng + ".. Dist: " + dist + ".. Alt: " +  alt;

    if (clrCount < 100) {
        clrCount = clrCount + 1;
    }
    else if (clrCount >= 100)
    {
        clrCount = 0;
        for (x = 0; x < 5; x++) {
            airplane[x].textContent = "";
        }
    }

    if (rcvCount < 20) {
        rcvCount = rcvCount + 1;
    }
    else if (rcvCount >= 20) {
        console.log(tag);
        rcvCount = 0;

        if (dist <= 6) {
            if (alt < 10000) {
                if (brng > 0 ) {   
                    for (x = 0; x < 5; x++) {
                        if (airplane[x].textContent != tag) {
                            if (airplane[x].textContent.length == 0) {    
                                airplane[x].textContent = tag;
                            }
                        }
                    }
                }
            }
        }
    }
}

function sendKeepAlive(data) {
    var rs = trafficWebSocket.readyState;
    if (rs == 1) {
        trafficWebSocket.send(data);
    }
}

function onError(evt) {
    console.log("Websocket ERROR: " + evt.data);
}


/*-----------------------------------------------------------------------------------------    
                                 Traffic JSON sample 
-------------------------------------------------------------------------------------------
        {"Icao_addr":11316589,"Reg":"N916EV","Tail":"N916EV","Emitter_category":0,
        "OnGround":false,"Addr_type":0,"TargetType":0,"SignalLevel":-28.00244822746525,
        "Squawk":0,"Position_valid":false,"Lat":0,"Lng":0,"Alt":5550,"GnssDiffFromBaroAlt":0,
        "AltIsGNSS":false,"NIC":0,"NACp":0,"Track":0,"Speed":0,"Speed_valid":false,"Vvel":0,
        "Timestamp":"2019-03-12T13:32:30.563Z","PriorityStatus":0,"Age":18.2,"AgeLastAlt":1.83,
        "Last_seen":"0001-01-01T00:39:27.49Z","Last_alt":"0001-01-01T00:39:43.86Z",
        "Last_GnssDiff":"0001-01-01T00:00:00Z","Last_GnssDiffAlt":0,"Last_speed":"0001-01-01T00:00:00Z",
        "Last_source":1,"ExtrapolatedPosition":false,"BearingDist_valid":true,
        "Bearing":92.7782277589171,"Distance":9.616803034808295e+06}
--------------------------------------------------------------------------------------------*/

setInterval(function() {
     
    fetch(urlAHRS)
        .then(function(response) {
        return response.json();
    })
    .then(function(myJson) {
        
        var str = JSON.stringify(myJson)
        var obj = JSON.parse(str);

        // attitude pitch & roll
        attitude.setRoll(obj.AHRSRoll);
        attitude.setPitch(obj.AHRSPitch);
        
        // set the speed and altitude "box" values
        speed = Math.trunc(obj.GPSGroundSpeed);
        altitude = Math.trunc(obj.GPSAltitudeMSL);
        heading = Math.trunc(obj.GPSTrueCourse);
        gnumber = obj.AHRSGLoad.toFixed(1);
        gindicator.textContent = 'G';
        speedbox.textContent = speed;
        altitudebox.textContent = altitude;
        headingbox.textContent = pad(heading, 3);
        gbox.textContent = gnumber;

        var speedticks = (speed * spd_offset);
        var altticks = (altitude * alt_offset);
        var hdgticks = (heading * hdg_offset) * -1;
        
        // set the coordinates of the tapes
        speedtape.css('transform', 'translateY(' + speedticks + 'px)');
        alttape.css('transform', 'translateY(' + altticks + 'px');
        headingtape.css('transform', 'translateX('+ hdgticks + 'px'); 
   });
    
    if (wsOpen) {
        // ping Stratux with some data (doesn't matter what, so just using UTC time)
        if (countCycle >= 80) {
            var data = new Date();
            countCycle = 0;
            sendKeepAlive(data.getTime());
            console.log("Sent Keep Alive, data = " + data.getTime());
        }
        countCycle ++;
    }

}, 50);

</script>
</body>
